<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <title>í•™êµ ë¶„ì‹¤ë¬¼ ê²€ìƒ‰ ì‹œìŠ¤í…œ</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>
    * { box-sizing: border-box; }
    body {
      font-family: 'Noto Sans KR', system-ui, -apple-system, BlinkMacSystemFont, sans-serif;
      margin: 0;
      background: #f5f7fb;
      color: #222;
    }
    header {
      background: #3f51b5;
      color: #fff;
      padding: 16px 20px;
      font-size: 20px;
      font-weight: 600;
    }
    main {
      max-width: 1100px;
      margin: 20px auto 40px;
      padding: 0 16px;
    }
    h2 {
      margin-top: 0;
      font-size: 20px;
    }
    section {
      background: #fff;
      border-radius: 10px;
      padding: 16px 18px 20px;
      margin-bottom: 18px;
      box-shadow: 0 2px 6px rgba(0,0,0,0.06);
    }
    .section-sub {
      font-size: 13px;
      color: #666;
      margin-bottom: 10px;
    }
    form {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
      gap: 10px 16px;
      align-items: flex-start;
    }
    label {
      display: block;
      font-size: 13px;
      margin-bottom: 4px;
      color: #444;
    }
    input[type="text"],
    input[type="date"],
    select,
    textarea {
      width: 100%;
      padding: 7px 9px;
      border-radius: 6px;
      border: 1px solid #c7cbe6;
      font-size: 13px;
      outline: none;
    }
    textarea {
      resize: vertical;
      min-height: 60px;
    }
    input:focus, select:focus, textarea:focus {
      border-color: #3f51b5;
      box-shadow: 0 0 0 2px rgba(63,81,181,0.18);
    }
    .full-width {
      grid-column: 1 / -1;
    }
    .btn {
      display: inline-block;
      padding: 8px 16px;
      border-radius: 8px;
      border: none;
      font-size: 14px;
      cursor: pointer;
      transition: transform 0.05s ease, box-shadow 0.05s ease, background 0.15s ease;
    }
    .btn-primary {
      background: #3f51b5;
      color: #fff;
      box-shadow: 0 2px 4px rgba(63,81,181,0.3);
    }
    .btn-primary:hover {
      background: #3646a0;
    }
    .btn-primary:active {
      transform: translateY(1px);
      box-shadow: 0 1px 2px rgba(63,81,181,0.4);
    }
    .btn-ghost {
      background: transparent;
      color: #3f51b5;
      border: 1px solid #c7cbe6;
    }
    .btn-ghost:hover {
      background: #edf0ff;
    }
    .search-bar {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
      margin-bottom: 10px;
      align-items: center;
    }
    .search-bar select,
    .search-bar input[type="text"] {
      max-width: 240px;
    }
    .counter {
      font-size: 13px;
      color: #555;
      margin-bottom: 6px;
    }
    .cards {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
      gap: 12px;
    }
    .card {
      background: #fafbff;
      border-radius: 10px;
      padding: 10px;
      border: 1px solid #e0e3f4;
      display: flex;
      gap: 10px;
      min-height: 110px;
    }
    .card-thumb {
      flex: 0 0 90px;
      height: 90px;
      border-radius: 8px;
      overflow: hidden;
      background: #e3e6f5;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 11px;
      color: #666;
    }
    .card-thumb img {
      width: 100%;
      height: 100%;
      object-fit: cover;
      display: block;
    }
    .card-body {
      flex: 1;
      font-size: 13px;
    }
    .card-body .title-line {
      font-weight: 600;
      margin-bottom: 3px;
    }
    .badge {
      display: inline-block;
      padding: 2px 6px;
      border-radius: 999px;
      font-size: 11px;
      margin-right: 4px;
      background: #e1e5ff;
      color: #333;
    }
    .muted {
      color: #777;
      font-size: 12px;
    }
    .no-result {
      font-size: 13px;
      color: #777;
      padding: 6px 0;
    }
    @media (max-width: 600px) {
      header {
        font-size: 17px;
      }
      .card {
        flex-direction: column;
      }
      .card-thumb {
        width: 100%;
        height: 140px;
      }
    }
  </style>
</head>
<body>
<header>
  ğŸ« í•™êµ ë¶„ì‹¤ë¬¼ ê²€ìƒ‰ ì‹œìŠ¤í…œ (í”„ë¡œí† íƒ€ì…)
</header>

<main>
  <!-- ë¶„ì‹¤ë¬¼ ë“±ë¡ ì„¹ì…˜ -->
  <section id="register-section">
    <h2>1. ë¶„ì‹¤ë¬¼ ë“±ë¡</h2>
    <p class="section-sub">
      êµì‚¬ë‚˜ ë‹´ë‹¹ í•™ìƒì´ ìƒˆ ë¶„ì‹¤ë¬¼ì„ ë“±ë¡í•˜ëŠ” ì˜ì—­ì…ë‹ˆë‹¤. ì´ë¯¸ì§€ íŒŒì¼ì€ íŒŒì¼ëª…ë§Œ ì…ë ¥í•˜ê³ , ì‹¤ì œ ì‚¬ì§„ì€ ê°™ì€ í´ë” ì•ˆì— ë³´ê´€í•˜ë©´ ë©ë‹ˆë‹¤.
    </p>

    <form id="register-form">
      <div>
        <label for="category">ì¹´í…Œê³ ë¦¬</label>
        <select id="category" required>
          <option value="">ì„ íƒí•˜ì„¸ìš”</option>
          <option>ìš°ì‚°</option>
          <option>ì˜ë¥˜</option>
          <option>í•™ìš©í’ˆ</option>
          <option>ì „ìê¸°ê¸°</option>
          <option>ì¹´ë“œ/ì§€ê°‘</option>
          <option>ê¸°íƒ€</option>
        </select>
      </div>

      <div>
        <label for="color">ìƒ‰ê¹”</label>
        <input id="color" type="text" placeholder="ì˜ˆ: ê²€ì •, íŒŒë‘" />
      </div>

      <div>
        <label for="brand">ë¸Œëœë“œ / ë¡œê³ </label>
        <input id="brand" type="text" placeholder="ì˜ˆ: Nike, Adidas, í•™êµ ë¡œê³  ë“±" />
      </div>

      <div>
        <label for="location">ë°œê²¬ ì¥ì†Œ</label>
        <input id="location" type="text" placeholder="ì˜ˆ: 2ì¸µ ë³µë„, ì²´ìœ¡ê´€, ê¸‰ì‹ì‹¤" />
      </div>

      <div>
        <label for="dateFound">ë°œê²¬ ë‚ ì§œ</label>
        <input id="dateFound" type="date" />
      </div>

      <div class="full-width">
        <label for="description">ê¸°íƒ€ íŠ¹ì§•</label>
        <textarea id="description" placeholder="ì˜ˆ: ì´ë¦„ ìŠ¤í‹°ì»¤ ë¶™ì–´ ìˆìŒ, ì†ì¡ì´ì— í° ì¤„ë¬´ëŠ¬ ë“±"></textarea>
      </div>

      <div class="full-width">
        <label for="imageName">ì´ë¯¸ì§€ íŒŒì¼ëª… (ì„ íƒ)</label>
        <input id="imageName" type="text" placeholder="ì˜ˆ: umbrella1.jpg (ê°™ì€ í´ë”ì— ì €ì¥)" />
      </div>

      <div class="full-width">
        <button type="submit" class="btn btn-primary">ë“±ë¡í•˜ê¸°</button>
        <button type="button" class="btn btn-ghost" id="reset-btn">í¼ ì´ˆê¸°í™”</button>
      </div>
    </form>
  </section>

  <!-- ê²€ìƒ‰ ì„¹ì…˜ -->
  <section id="search-section">
    <h2>2. ë¶„ì‹¤ë¬¼ ê²€ìƒ‰</h2>
    <p class="section-sub">
      ì¹´í…Œê³ ë¦¬ì™€ í‚¤ì›Œë“œ(ìƒ‰, ë¸Œëœë“œ, ì¥ì†Œ, íŠ¹ì§• ë“±)ë¥¼ ì¡°í•©í•´ì„œ ì›í•˜ëŠ” ë¶„ì‹¤ë¬¼ì„ ë¹ ë¥´ê²Œ ì°¾ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
    </p>

    <div class="search-bar">
      <div>
        <label for="searchCategory">ì¹´í…Œê³ ë¦¬</label><br />
        <select id="searchCategory">
          <option value="all">ì „ì²´</option>
        </select>
      </div>
      <div>
        <label for="keyword">í‚¤ì›Œë“œ</label><br />
        <input id="keyword" type="text" placeholder="ìƒ‰, ë¸Œëœë“œ, ì¥ì†Œ, íŠ¹ì§• ë“±ìœ¼ë¡œ ê²€ìƒ‰" />
      </div>
      <div>
        <button id="searchBtn" class="btn btn-primary" type="button">ê²€ìƒ‰</button>
      </div>
      <div>
        <button id="clearBtn" class="btn btn-ghost" type="button">í•„í„° ì´ˆê¸°í™”</button>
      </div>
    </div>

    <div class="counter" id="resultCounter"></div>
    <div class="cards" id="results"></div>
  </section>
</main>

<script>
  // ----- ì´ˆê¸° ì˜ˆì‹œ ë°ì´í„° -----
  const items = [
    {
      id: 1,
      category: "ìš°ì‚°",
      color: "ê²€ì •",
      brand: "",
      locationFound: "2ì¸µ ë³µë„",
      dateFound: "2025-11-20",
      description: "ì†ì¡ì´ì— í° ì¤„ë¬´ëŠ¬ê°€ ìˆëŠ” ìë™ ìš°ì‚°",
      imagePath: "umbrella1.jpg" // ì‹¤ì œ ì´ë¯¸ì§€ íŒŒì¼ì„ ê°™ì€ í´ë”ì— ë‘ë©´ ì¸ë„¤ì¼ë¡œ ë³´ì„
    },
    {
      id: 2,
      category: "í•™ìš©í’ˆ",
      color: "í•˜ëŠ˜ìƒ‰",
      brand: "ìŠ¤íƒ€ë²…ìŠ¤",
      locationFound: "ë„ì„œê´€ ì—´ëŒì‹¤",
      dateFound: "2025-11-18",
      description: "í•˜ëŠ˜ìƒ‰ ìŠ¤íƒ€ë²…ìŠ¤ íœ íŒŒìš°ì¹˜, ì•ˆì— ê²€ì • ë³¼íœ 3ê°œ",
      imagePath: "pouch1.jpg"
    },
    {
      id: 3,
      category: "ì¹´ë“œ/ì§€ê°‘",
      color: "ë°¤ìƒ‰",
      brand: "í•™ìƒì¦",
      locationFound: "ê¸‰ì‹ì‹¤ ì…êµ¬",
      dateFound: "2025-11-19",
      description: "íˆ¬ëª… ì¹´ë“œ ì§€ê°‘ ì†ì— í•™ìƒì¦ì´ ë“¤ì–´ ìˆìŒ",
      imagePath: ""
    }
  ];

  let nextId = items.length ? Math.max(...items.map(i => i.id)) + 1 : 1;

  // DOM ìš”ì†Œ
  const registerForm = document.getElementById("register-form");
  const resetBtn = document.getElementById("reset-btn");
  const searchCategory = document.getElementById("searchCategory");
  const keywordInput = document.getElementById("keyword");
  const searchBtn = document.getElementById("searchBtn");
  const clearBtn = document.getElementById("clearBtn");
  const resultsDiv = document.getElementById("results");
  const resultCounter = document.getElementById("resultCounter");

  // ì¹´í…Œê³ ë¦¬ ì˜µì…˜ ë™ê¸°í™”
  function updateCategoryOptions() {
    const categories = Array.from(new Set(items.map(i => i.category))).sort();
    // ê¸°ì¡´ ì˜µì…˜ ì‚­ì œ í›„ "ì „ì²´"ë§Œ ë‚¨ê¸°ê¸°
    while (searchCategory.options.length > 1) {
      searchCategory.remove(1);
    }
    categories.forEach(cat => {
      const opt = document.createElement("option");
      opt.value = cat;
      opt.textContent = cat;
      searchCategory.appendChild(opt);
    });
  }

  // ê²€ìƒ‰ ë° í•„í„°ë§
  function filterItems() {
    const cat = searchCategory.value;
    const keyword = keywordInput.value.trim().toLowerCase();

    let filtered = items.slice();

    if (cat !== "all") {
      filtered = filtered.filter(item => item.category === cat);
    }

    if (keyword) {
      filtered = filtered.filter(item => {
        const combined = [
          item.category,
          item.color,
          item.brand,
          item.locationFound,
          item.dateFound,
          item.description
        ]
          .join(" ")
          .toLowerCase();
        return combined.includes(keyword);
      });
    }

    renderResults(filtered);
  }

  // ê²°ê³¼ ë Œë”ë§
  function renderResults(list) {
    resultsDiv.innerHTML = "";

    if (!list.length) {
      resultCounter.textContent = "ê²€ìƒ‰ ê²°ê³¼ê°€ ì—†ìŠµë‹ˆë‹¤.";
      const noDiv = document.createElement("div");
      noDiv.className = "no-result";
      noDiv.textContent = "ì¡°ê±´ì— ë§ëŠ” ë¶„ì‹¤ë¬¼ì´ ì—†ìŠµë‹ˆë‹¤.";
      resultsDiv.appendChild(noDiv);
      return;
    }

    resultCounter.textContent = `ê²€ìƒ‰ ê²°ê³¼: ${list.length}ê°œ`;

    list.forEach(item => {
      const card = document.createElement("div");
      card.className = "card";

      const thumb = document.createElement("div");
      thumb.className = "card-thumb";

      if (item.imagePath && item.imagePath.trim() !== "") {
        const img = document.createElement("img");
        img.src = item.imagePath;
        img.alt = `ë¶„ì‹¤ë¬¼ ì´ë¯¸ì§€ ${item.id}`;
        thumb.appendChild(img);
      } else {
        thumb.textContent = "ì´ë¯¸ì§€ ì—†ìŒ";
      }

      const body = document.createElement("div");
      body.className = "card-body";

      const titleLine = document.createElement("div");
      titleLine.className = "title-line";
      titleLine.textContent = `${item.category} Â· ${item.color || "ìƒ‰ìƒ ì •ë³´ ì—†ìŒ"}`;

      const badges = document.createElement("div");
      const badge1 = document.createElement("span");
      badge1.className = "badge";
      badge1.textContent = item.locationFound || "ì¥ì†Œ ë¯¸ìƒ";
      badges.appendChild(badge1);

      if (item.brand) {
        const badge2 = document.createElement("span");
        badge2.className = "badge";
        badge2.textContent = item.brand;
        badges.appendChild(badge2);
      }

      const desc = document.createElement("div");
      desc.textContent = item.description || "(íŠ¹ì§• ë¯¸ì…ë ¥)";

      const meta = document.createElement("div");
      meta.className = "muted";
      meta.textContent = `ID: ${item.id} Â· ë°œê²¬ ë‚ ì§œ: ${item.dateFound || "ë¯¸ì…ë ¥"}`;

      body.appendChild(titleLine);
      body.appendChild(badges);
      body.appendChild(desc);
      body.appendChild(meta);

      card.appendChild(thumb);
      card.appendChild(body);
      resultsDiv.appendChild(card);
    });
  }

  // í¼ ì œì¶œ ì²˜ë¦¬ (ë¶„ì‹¤ë¬¼ ë“±ë¡)
  registerForm.addEventListener("submit", function (e) {
    e.preventDefault();

    const category = document.getElementById("category").value.trim();
    const color = document.getElementById("color").value.trim();
    const brand = document.getElementById("brand").value.trim();
    const locationFound = document.getElementById("location").value.trim();
    const dateFound = document.getElementById("dateFound").value;
    const description = document.getElementById("description").value.trim();
    const imageName = document.getElementById("imageName").value.trim();

    if (!category) {
      alert("ì¹´í…Œê³ ë¦¬ë¥¼ ì„ íƒí•´ì£¼ì„¸ìš”.");
      return;
    }

    const newItem = {
      id: nextId++,
      category,
      color,
      brand,
      locationFound,
      dateFound,
      description,
      imagePath: imageName || ""
    };

    items.push(newItem);
    alert("ë¶„ì‹¤ë¬¼ì´ ë“±ë¡ë˜ì—ˆìŠµë‹ˆë‹¤.");

    registerForm.reset();
    updateCategoryOptions();
    filterItems(); // í˜„ì¬ ê²€ìƒ‰ ì¡°ê±´ ê¸°ì¤€ìœ¼ë¡œ ë‹¤ì‹œ ë Œë”
  });

  // í¼ ì´ˆê¸°í™” ë²„íŠ¼
  resetBtn.addEventListener("click", function () {
    registerForm.reset();
  });

  // ê²€ìƒ‰ ë²„íŠ¼ / í‚¤ì›Œë“œ ì…ë ¥ / ì¹´í…Œê³ ë¦¬ ë³€ê²½
  searchBtn.addEventListener("click", filterItems);
  clearBtn.addEventListener("click", function () {
    searchCategory.value = "all";
    keywordInput.value = "";
    filterItems();
  });
  keywordInput.addEventListener("input", filterItems);
  searchCategory.addEventListener("change", filterItems);

  // ì´ˆê¸°í™”
  updateCategoryOptions();
  filterItems();
</script>
</body>
</html>
